(function(t){function i(i){for(var n,r,a=i[0],c=i[1],h=i[2],l=0,p=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(i);while(p.length)p.shift()();return o.push.apply(o,h||[]),e()}function e(){for(var t,i=0;i<o.length;i++){for(var e=o[i],n=!0,a=1;a<e.length;a++){var c=e[a];0!==s[c]&&(n=!1)}n&&(o.splice(i--,1),t=r(r.s=e[0]))}return t}var n={},s={app:0},o=[];function r(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,i,e){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)r.d(e,n,function(i){return t[i]}.bind(null,n));return e},r.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=i,a=a.slice();for(var h=0;h<a.length;h++)i(a[h]);var u=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";e("85ec")},4115:function(t,i,e){},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("Fan")],1)},o=[],r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"webgl"}},[e("div",{staticClass:"nav"},[e("ul",[e("li",{on:{click:function(i){return t.cEvent(1)}}},[t._v("Normal")]),e("li",{on:{click:function(i){return t.cEvent(2)}}},[t._v("Color1")]),e("li",{on:{click:function(i){return t.cEvent(3)}}},[t._v("Color2")])])]),e("canvas",{ref:"canvas",attrs:{id:"webgl_canvas"}})])},a=[],c=e("d4ec"),h=e("bee2"),u=e("5a89"),l=function(){function t(){Object(c["a"])(this,t),this.scene=null,this.camera=null,this.spotLight=null,this.renderer=null,this.size={windowW:null,windowH:null},this.clock=null,this.time={total:null,delta:null},this.stats=null}return Object(h["a"])(t,[{key:"init",value:function(t){this.setSize(),this.scene=new u["h"],this.camera=new u["f"](45,this.size.windowW/this.size.windowH,.1,1e3),this.camera.position.set(0,5,-230),this.camera.lookAt(this.scene.position),this.renderer=new u["k"]({canvas:t}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0),this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.size.windowW,this.size.windowH),this.clock=new u["b"],this.clock.start()}},{key:"setSize",value:function(){this.size={windowW:window.innerWidth,windowH:window.innerHeight}}},{key:"resize",value:function(){this.setSize(),this.camera.aspect=this.size.windowW/this.size.windowH,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.size.windowW,this.size.windowH)}},{key:"render",value:function(){this.time.delta=this.clock.getDelta(),this.time.total+=this.time.delta,this.renderer.render(this.scene,this.camera)}}]),t}(),p=new l,d="attribute vec4 color;\r\nvarying vec4 vColor;\r\nvarying vec3 pos;\r\nuniform float time;\r\nvarying float t;\r\n\r\nvoid main() {\r\n  vColor = color;\r\n  t = time;\r\n  pos = vec3(position.x * clamp(tan(sin(t * 0.1) * 5.0), -8.0, 8.0), position.y * cos(t * 0.3), position.z);\r\n  gl_PointSize = 2.5;\r\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos.x, pos.y, pos.z, 1.0);\r\n  // gl_Position = projectionMatrix * modelViewMatrix * vec4(pos.x * clamp(tan(sin(t * 0.1) * 5.0), -8.0, 8.0), pos.y * cos(t * 0.3), pos.z, 1.0);\r\n}",f="precision mediump float;\r\nvarying vec4 vColor;\r\nvarying vec3 pos;\r\nvarying float t;\r\n\r\nvoid main() {\r\n  float sTime = sin(pos.y * 0.05 + t);\r\n  float cTime = cos(pos.x * 0.08 + t);\r\n  gl_FragColor = vec4(cTime, sTime, 1.0, vColor.a);\r\n}",v=function(){function t(){Object(c["a"])(this,t),this.geometry=null,this.material=null,this.positions=[],this.colors=[],this.sizeX=80,this.sizeY=20,this.parentGroup=new u["e"],this.group1=new u["e"],this.group2=new u["e"],this.group3=new u["e"],this.uniforms=null,this.check=!1,this.type=null}return Object(h["a"])(t,[{key:"init",value:function(){this.setData(),this.geometry=new u["a"],this.posAttrib=new u["d"](this.positions,3),this.colAttrib=new u["j"](this.colors,4),this.colAttrib.normalized=!0,this.geometry.setAttribute("position",this.posAttrib),this.geometry.setAttribute("color",this.colAttrib),this.uniforms={time:{value:p.time.total}},this.material=new u["i"]({uniforms:this.uniforms,vertexShader:d,fragmentShader:f,side:u["c"]});for(var t=0;t<3;t++)switch(this.points=new u["g"](this.geometry,this.material),this.points.position.set(0,34,-50),t){case 0:this.group1.add(this.points);break;case 1:this.group2.add(this.points),this.group2.rotation.z=2*Math.PI/3*1;break;case 2:this.group3.add(this.points),this.group3.rotation.z=2*Math.PI/3*2;break;default:break}this.parentGroup.add(this.group1),this.parentGroup.add(this.group2),this.parentGroup.add(this.group3),p.scene.add(this.parentGroup)}},{key:"setData",value:function(){this.size=this.sizeX*this.sizeY;for(var t=0;t<this.size;t++){var i=t%this.sizeY-this.sizeY/2,e=Math.floor(t/this.sizeY)-this.sizeX/2,n=0;this.positions.push(i),this.positions.push(e),this.positions.push(n),this.colors.push(255),this.colors.push(255),this.colors.push(255),this.colors.push(255)}}},{key:"update",value:function(){this.check?(this.group1.rotation.z+=Math.PI/10,this.group2.rotation.z+=Math.PI/12,this.group3.rotation.z+=Math.PI/14):(this.group1.rotation.z+=Math.PI/10,this.group2.rotation.z+=Math.PI/10,this.group3.rotation.z+=Math.PI/10),this.uniforms.time.value=p.time.total,this.uniforms.time.value=.001*p.clock.oldTime}},{key:"clickEvent",value:function(t){switch(t){case 1:this.check=!1;break;case 2:this.check=!1,this.group1.rotation.z=0,this.group2.rotation.z=2*Math.PI/3*1,this.group3.rotation.z=2*Math.PI/3*2;break;case 3:this.check=!0;break;default:break}}}]),t}(),w=e("ef20"),m=function(){function t(){Object(c["a"])(this,t),this.stats=null}return Object(h["a"])(t,[{key:"init",value:function(){this.stats=new w["a"],document.body.appendChild(this.stats.dom)}},{key:"updateBegin",value:function(){this.stats.begin()}},{key:"updateEnd",value:function(){this.stats.end()}}]),t}(),g=function(){function t(i){Object(c["a"])(this,t),this.props=i,this.stats=new m,this.init()}return Object(h["a"])(t,[{key:"init",value:function(){p.init(this.props.$canvas),this.propeller=new v,this.propeller.init(),window.addEventListener("resize",this.resize.bind(this)),this.stats.init(),this.loop()}},{key:"resize",value:function(){p.resize()}},{key:"loop",value:function(){this.stats.updateBegin(),this.render(),this.stats.updateEnd(),requestAnimationFrame(this.loop.bind(this))}},{key:"render",value:function(){p.render(),this.propeller.update()}},{key:"clickEvent",value:function(t){this.propeller.clickEvent(t)}}]),t}(),b={data:function(){return{}},mounted:function(){this.MyGL||(this.MyGL=new g({$canvas:this.$refs.canvas}))},methods:{cEvent:function(t){this.MyGL.clickEvent(t)}}},y=b,k=(e("e9f6"),e("2877")),z=Object(k["a"])(y,r,a,!1,null,"0417b8d3",null),M=z.exports,j={name:"App",components:{Fan:M}},P=j,O=(e("034f"),Object(k["a"])(P,s,o,!1,null,null,null)),x=O.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(x)}}).$mount("#app")},"85ec":function(t,i,e){},e9f6:function(t,i,e){"use strict";e("4115")}});
//# sourceMappingURL=app.282bbd25.js.map